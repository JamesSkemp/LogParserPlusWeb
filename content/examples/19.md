+++
id = 19
name = "Bandwidth usage by request"
description = "Returns pages sorted by the total number of bytes transferred, as well as the total number of requests and average bytes."
keywords = ["iisw3c"]
statement-parameters = "-i:iisw3c -rtp:-1"
statement-select = "DISTINCT TO_LOWERCASE(cs-uri-stem) AS [Url], COUNT(*) AS [Requests], AVG(sc-bytes) AS [AvgBytes], SUM(sc-bytes) AS [Bytes sent]"
statement-using = ""
statement-into = "Bandwidth.txt"
statement-from = "ex0909*.log"
statement-where = ""
statement-groupby = "[Url]"
statement-having = "[Requests] >= 20"
statement-orderby = "[Bytes sent] DESC"
notes = "Original query posted to <a href="http://serverfault.com/questions/45516/recommended-logparser-queries-for-iis-monitoring">Server Fault</a> by Jeff Atwood and corrected by James Skemp."
+++

